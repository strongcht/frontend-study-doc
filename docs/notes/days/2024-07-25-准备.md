---
layout: doc
---

## 2024 å¹´ 7 æœˆ 25 æ—¥

## 1.å¦‚æœä½ è¦è¯»å–ä¸€ä¸ªç‰¹åˆ«å¤§çš„æ–‡ä»¶åº”è¯¥å¦‚ä½•åš?
ä½¿ç”¨`fs.createReadStream`ä»£æ›¿`fs.readFileSync`

[å‚è€ƒåœ°å€](https://segmentfault.com/a/1190000045090539)
[å‚è€ƒåœ°å€](https://segmentfault.com/a/1190000041489765)

## 2. é˜²æŠ–å’ŒèŠ‚æµ

```js
// é˜²æŠ–ï¼šå°±æ˜¯æŒ‡è§¦å‘äº‹ä»¶å n ç§’åæ‰æ‰§è¡Œå‡½æ•°ï¼Œå¦‚æœåœ¨ n ç§’å†…åˆè§¦å‘äº†äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚
function debounce(func, wait) {
    let timer = null;
    return function() {
        const context = this;
        const args = [...arguments];
        if(timer) {
            clearTimeout(timer);
        }
        timer = setTimeout(() => {
            func.apply(context, args);
        }, wait)
    }
}

// ç«‹å³æ‰§è¡Œ
function debounce(func, wait, immediate = false) {
    let timer = null;
    return function() {
        const context = this;
        const args = [...arguments];
        if(timer) {
            clearTimeout(timer);
        }
        if(immediate) {
            const callNow = !timer;
            timer = setTimeout(() => {
                timer = null;
            }, wait);
            if(callNow) func.apply(context, args);
        } else {
            timer = setTimeout(() => {
                func.apply(context, args);
            }, wait)
        }
    }
}

// èŠ‚æµ:å°±æ˜¯æŒ‡è¿ç»­è§¦å‘äº‹ä»¶ä½†æ˜¯åœ¨ n ç§’ä¸­åªæ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚
function throttle(func, wait) {
    let timer = null;
    return function() {
        const context = this;
        let args = [...arguments];
        if(!timer) {
            timer = setTimeout(() => {
                timer = null;
                func.apply(context, args);
            }, wait)
        }
    }
}

```

## 3. åƒåˆ†ä½æ ¼å¼åŒ–

```js
// å…ˆåˆ¤æ–­æ­£è´Ÿå’Œå°æ•°éƒ¨åˆ†
function formatThousandth(number) {
    let isNeg = false;
    let isDecimal = false;
    let interArr = [];
    let decimalArr = [];
    if(number < 0) {
        isNeg = true;
        number = Math.abs(number)
    }
    number = number.toString();
    if(number.indexOf('.') > -1) {
        isDecimal = true;
    }
    interArr = [...number.split('.')[0]];
    decimalArr = number.split('.')[1];
    let flag = 1;
    let len = interArr.length;
    for(let i = len - 1; i >= 0; i--) {
        if(flag % 3 === 0 && i !== 0) {
            interArr.splice(i, 0, ',');
        }
        flag++;
    }
    if(isDecimal) {
        interArr.push('.');
        interArr.push(decimalArr);
    }
    return (isNeg ? '-' : '') + interArr.join('')
}
```

## 4.å‰kä¸ªæœ€å¤§å€¼
```js
// æ–¹æ³•1ï¼šæ’åº
function findKthLargest(nums, k) {
    nums.sort((a, b) => b - a);
    return nums[k - 1];
}

// æ–¹æ³•äºŒï¼š éƒ¨åˆ†å†’æ³¡

function findKthLargest(nums, k) {
    for(let i = 0; i < k; i++) {
        for(let j = 0; j < nums.length - 1 - i; j++) {
            if(nums[j] > nums[j + 1]) {
                [nums[j], nums[j + 1]]=[nums[j + 1], nums[j]]
            }
        }
    }
    return nums[nums.length - k];
}

// æ–¹æ³•ä¸‰ï¼š å°é¡¶å †

function findKthLargest(nums, k) {
    // åˆå§‹åŒ–å°é¡¶å †
    let minHeap = new MinHeap();
    // å‰kä¸ªå…ƒç´ å…¥å †
    for(let i = 0; i < k; i++) {
        minHeap.push(nums[i]);
    }
    // ä»k + 1ä¸ªå…ƒç´ å¼€å§‹ å¦‚æœå½“å‰å…ƒç´ å¤§äºå¯¹é¡¶å…ƒç´  åˆ™ åˆ é™¤å †é¡¶å…ƒç´ ï¼Œåœ¨æ·»åŠ è¯¥å…ƒç´ 
    for(let i = k; i < nums.length; i++) {
        if(nums[i] > minHeap.top()){
            minHeap.push(nums[i]);
            if(minHeap.size() > k) {
                minHeap.pop();
            }
        }
    }
    return minHeap.top();
}

class MinHeap {
    constructor() {
        this.heap = [];
    }

    getParentIndex(i) {
        // return i - 1 >> 1;
        return Math.floor((i - 1) / 2);
    }

    getLeftIndex(i) {
        return 2 * i + 1;
    }

    getRightIndex(i) {
        return 2 * i + 2;
    }

    top() {
        return this.heap[0];
    }

    swap(i1, i2) {
        const temp = this.heap[i1];
        this.heap[i1] = this.heap[i2];
        this.heap[i2] = temp;
    }

    size() {
        return this.heap.length;
    }

    push(val) {
        this.heap.push(val);
        this.shifUp(this.heap.length - 1);
    }

    // ä¸Šç§»
    shifUp(index) {
        if (index === 0) return;
        const parentIndex = this.getParentIndex(index);
        if(this.heap[parentIndex] > this.heap[index]) {
            this.swap(parentIndex, index);
            this.shifUp(parentIndex);
        }
    }

    pop() {
        this.heap[0] = this.heap.pop();
        this.shifDown(0);
    }

    // ä¸‹ç§»
    shifDown(index) {
        const lastIndex = this.size() - 1;
        while (true) {
            // å·¦å³ä¸è¶Šç•Œï¼Œå–å·¦å³ä¸­æœ€å°çš„è¿›è¡Œäº¤æ¢
            const leftIndex = this.getLeftIndex(index);
            const rightIndex = this.getRightIndex(index);
            let findIndex = index;
            if (leftIndex <= lastIndex && this.heap[leftIndex] < this.heap[findIndex]) {
                findIndex = leftIndex;
            }

            if (rightIndex <= lastIndex && this.heap[rightIndex] < this.heap[findIndex]) {
                findIndex = rightIndex;
            }

            if(index !== findIndex) {
                this.swap(findIndex, index);
                index = findIndex;
            } else {
                break;
            }
        }
        // ä¼šè¶…æ—¶
        // const left = this.getLeftIndex(index);
        // const right = this.getRightIndex(index);

        // if(this.heap[index] > this.heap[left]) {
        //     this.swap(index, left);
        //     this.shifDown(left);
        // }

        // if(this.heap[index] > this.heap[right]) {
        //     this.swap(index, right);
        //     this.shifDown(right);
        // }
    }
}
```

## 5.æœ€å¤§å­åºå’Œ

```js
// dp[i] = Math.max(nums[i], dp[i - 1] + nums[i])
// åªè¾“å‡ºæœ€å¤§å­åºå’Œ
function maxSubArray(nums) {
    let pre = nums[0];
    let res = nums[0];

    for(let i = 1; i < nums.length; i++) {
        pre = Math.max(pre + nums[i], nums[i]);
        res = Math.max(res, pre);
    }

    return res;
}

console.log(maxSubArray([5,4,-1,7,8]));
console.log(maxSubArray([-2,1,-3,4,-1,2,1,-5,4]));

// è¾“å‡ºæœ€å¤§å­åºå’Œçš„å­åº

function maxSubArray1(nums) {
    let pre = nums[0];
    let res = nums[0];
    let l = 0, r = 0; // å·¦å³æŒ‡é’ˆè®°å½•å­åº
    let resRange = [l, r];

    
    for(let i = 1; i < nums.length; i++) {
        if(pre + nums[i] > nums[i]) {
            r++;
            pre = pre + nums[i];
        } else {
            pre = nums[i];
            l = r = i;
        }

        if(res < pre) {
            res = pre;
            resRange = [l, r];
        }
    }

    return `å’Œ${res}: å­åºï¼š${nums.slice(resRange[0], resRange[1] + 1)}`
}

console.log(maxSubArray1([5,4,-1,7,8]));
console.log(maxSubArray1([-2,1,-3,4,-1,2,1,-5,4]));
```
## 6.æœ€é•¿å…¬å…±å­ä¸²å’Œæœ€é•¿å…¬å…±å­åºåˆ—

```js
// å­åºåˆ—acdï¼ˆå¯ä¸è¿ç»­ï¼‰ å­ä¸²ad(å¿…é¡»è¿ç»­)

// æœ€é•¿å…¬å…±å­åºåˆ—
// dp[i][j] 
// 1. s[i] == s[j] æ—¶, dp[i][j] = dp[i - 1][j - 1] + 1;
// 2. s[i] != s[j] æ—¶, dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1])
var longestCommonSubsequence = function(s1, s2) {
    // dp[i][j] ä»¥s1 ç¬¬iç»“å°¾çš„å­ä¸²å’Œ s2ç¬¬jä¸ªç»“å°¾çš„å…¬å…±å­ä¸²é•¿åº¦
    const dp = Array.from(new Array(s1.length + 1), () => new Array(s2.length + 1).fill(0));
    const c = Array.from(new Array(s1.length + 1), () => new Array(s2.length + 1).fill(0));
    for(let i = 1; i <= s1.length; i++) {
        const chart1 = s1[i - 1];
        for(let j = 1; j <= s2.length; j++) {
            const chart2 = s2[i - 1];
            if(chart1 == chart2) {
                dp[i][j] = dp[i - 1][j - 1] + 1;
            } else if(dp[i - 1][j] > dp[i][j - 1]) {
                dp[i][j] = dp[i - 1][j];
                c[i][j] = 1;
            } else {
                dp[i][j] =  dp[i][j - 1];
                c[i][j] = -1;
            }
        }
    }

    let m = s1.length, n = s2.length, res = [];
    while(m != 0 && n != 0) {
        if(c[m][n] == 0) {
            res.push(s1[n])
            m--;
            n--;
        } else if(c[m][n] == -1) {
            n--;
        } else {
            m--;
        }
    }

    return `å…¬å…±å­åºåˆ—ï¼š ${res.join('')}, é•¿åº¦ä¸ºï¼š ${dp[s1.length][s2.length]}`
};

console.log(longestCommonSubsequence('abcadf', 'acdad'));
// æœ€é•¿å…¬å…±å­ä¸² 'abcadf', 'acdad'
var longestCommonSubstring = function(s1, s2) {
    // å–s1å’Œs2ä¸­çŸ­çš„ä½œä¸ºs1
    if(s1.length > s2.length) {
        const temp = s1;
        s1 = s2;
        s2 = temp;
    }
    // dp[i][j] ä»¥s1 ç¬¬iç»“å°¾çš„å­ä¸²å’Œ s2ç¬¬jä¸ªç»“å°¾çš„å…¬å…±å­ä¸²é•¿åº¦
    // dp[i][j] = 
    // s[i] === s[j] æ—¶, dp[i][j] = dp[i - 1][j - 1] + 1;
    // s[i] !== s[j] æ—¶, dp[i][j] = 0;
    const dp = Array.from(new Array(s1.length), () => new Array(s2.length).fill(0));
    let max = 0, start = 0;
    if(s1[0] == s2[0]) {
        dp[0][0] = 1;
    }
    
    for(let i = 1; i < s1.length; i++) {
        for(let j = 1; j < s2.length; j++) {
            if(s1[i] == s2[j]) {
                dp[i][j] = dp[i - 1][j - 1] + 1;
            }
            if(dp[i][j] > max) {
                max = dp[i][j];
                start = i + 1 - max;
            }
        }
    }

    return s1.substr(start, max);
};
console.log(longestCommonSubstring('abcadf', 'acdad'));

```

## 7. å­ä¸²åŒ¹é…

```js
function findSubstring(s, t) {
    for(let i = 0; i < s.length; i++) {
        let l = 0;
        while(l < t.length) {
            if(s[i + l] == t[l]) {
                l++
            } else {
                break;
            }
        }
        if(l == t.length) return i;
    }
    retrun -1;
}
console.log(findSubstring('ababcabcacbab', 'abcac'));

```

## 8. æ— é‡å¤æœ€é•¿å­ä¸²

```js
var lengthOfLongestSubstring = function(s) {
    // æ»‘åŠ¨çª—å£
    const set = new Set();
    let r = 0, max = -1, res = '';
    for(let i = 0; i < s.length; i++) {
        if(i !== 0) {
            set.delete(s[i - 1]);
        }
        
        while(r < s.length && !set.has(s[r])) {
            set.add(s[r]);
            r++;
        }
        if(max < (r - i)) {
            max = r - i;
            res = s.substr(i, max);
        }  
    }
    return `å…¬å…±å­åºæ— é‡å¤æœ€é•¿å­ä¸²ï¼š ${res}, é•¿åº¦ä¸ºï¼š ${max}`;
};

console.log(lengthOfLongestSubstring("abcabcbb"));
```

## 9.æ•°åˆ— ğ‘çš„æ‰€æœ‰åŒºé—´ä¸­ï¼ŒX å€¼æœ€å¤§çš„é‚£ä¸ªåŒºé—´ X = min * sum

```js
// åˆ†åˆ«è®¡ç®—ä»¥a[i] ä¸ºæœ€å°å€¼çš„åŒºé—´çš„Xå€¼ï¼Œå–æœ€å¤§

function maxValue(a) {
    const n = a.length;
    const left = new Array(n).fill(-1);
    const right = new Array(n).fill(n);
    let stack = [];

    // æ‰¾å‡ºå·¦ä¾§æ¯”a[i]å°çš„æœ€å°å€¼
    for(let i = 0; i < n; i++) {
        while(stack.length && stack[stack.length - 1] >= a[i]) {
            stack.pop();
        }
        if(stack.length) {
            left[i] = stack[stack.length - 1];
        }
        stack.push(a[i]);
    }
    stack = [];
    // iå³ä¾§æ¯”a[i]å°çš„å€¼
    for(let i = n - 1; i >=0; i--) {
        while(stack.length && stack[stack.length - 1] >= a[i]) {
            stack.pop();
        }
        if(stack.length) {
            right[i] = stack[stack.length - 1];
        }
        stack.push(a[i]);
    }

    let max = 0, maxRange = [0, 0];
    for(let i = 0; i < n; i++) {
        let sum = 0;
        for(let j = left[i] + 1; j < right[i]; j++) {
            sum += a[j];
        }
        const xValue = a[i] * sum;
        if(xValue > max) {
            max = xValue;
            maxRange = [left[i] + 1, right[i]];
        }
    }
    return {max, interval: a.slice(maxRange[0], maxRange[1])}
}

const a = [3,1,6,4,5,2];
const result = maxValue(a);
console.log(`Xå€¼æœ€å¤§çš„åŒºé—´ä¸º ${result.interval}  X = ${result.max}`);
```
## 10.ä¸­åºéå†
> å·¦æ ¹å³
```js
// é€’å½’
var inorderTraversal = function(root) {
    const res = [];
    const inorder = (root) => {
        if(root == null) return;
        inorder(root.left);
        res.push(root.val);
        inorder(root.right);
    }
    inorder(root);
    return res;
};

// stack
var inorderTraversal = function(root) {
    const stack = [];
    const res = [];

    while(root) {
        stack.push(root);
        root = root.left;
    }
    while(stack.length) {
        let node = stack.pop();
        res.push(node.val);
        node = node.right;
        while(node) {
            stack.push(node);
            node = node.left;
        }
    }
    return res;
}
```

## 11. äºŒå‰æœç´¢æ ‘
```js
var isValidBST = function(root) {
    const stack = [];
    let front = -Infinity;

    while(root) {
        stack.push(root);
        root = root.left;
    }
    
    while(stack.length) {
        let node = stack.pop();
        if(node.val <= front) {
            return false;
        }
        front = node.val;
        while(node) {
            stack.push(node);
            node = node.right;
        }
    }
    return true;
}
```

## 12. äºŒå‰æ ‘çš„å±‚åºéå†

```js
var levelOrder = function(root) {
    // é˜Ÿåˆ—
    const queue = [];
    const res = [];

    if(root == null) return res;
    queue.push(root);

    while(queue.length) {
        const levelRes = [];
        const queueLength = queue.length;
        for(let i = 0; i < queueLength; i++) {
            const node = queue.shift();
            levelRes.push(node.val);
            node.left && queue.push(node.left);
            node.right && queue.push(node.right);
        }
        res.push(levelRes);
    }

    return res;
};
```

```js
var zigzagLevelOrder = function(root) {
    // é˜Ÿåˆ—
    const queue = [];
    const res = [];
    let isEven = true;

    if(root == null) return res;
    queue.push(root);

    while(queue.length) {
        const levelRes = [];
        const queueLength = queue.length;
        for(let i = 0; i < queueLength; i++) {
            const node = queue.shift();
            if(isEven) {
                levelRes.push(node.val);
            } else {
                levelRes.unshift(node.val);
            }
            node.left && queue.push(node.left);
            node.right && queue.push(node.right);
        }
        isEven = !isEven;
        res.push(levelRes);
    }

    return res;
};
```

```js
var maxDepth = function(root) {
    const res = [];
    const dfs = (root, depth) => {
        if(root == null) {
            res.push(depth);
            return;
        }
        dfs(root.left, depth + 1);
        dfs(root.right, depth + 1);
    }
    return Math.max(...res);

    // å±‚åºéå†è®°å½•æœ‰å¤šå°‘å±‚
    if(root == null) return 0;
    const queue = [root];
    let depth = 1;
    while(queue.length) {
        const length = queue.length;
        for(let i = 0; i < length; i++) {
            const node = queue.shift();
            node.left && queue.push(node.left);
            node.right && queue.push(node.right);
        }
        if(queue.length) {
            depth++;
        }
    }
    return depth;
};
```

æ ¹æ®å‰åºå’Œä¸­åº æ„é€ æ ‘
```js
function TreeNode(val, left, right) {
    this.val = (val===undefined ? 0 : val)
    this.left = (left===undefined ? null : left)
    this.right = (right===undefined ? null : right)
}
var buildTree = function(preorder, inorder) {
    const n = preorder.length;
    if(n == 0) return null;
    const leftSize = inorder.indexOf(preorder[0]);
    const left = buildTree(preorder.slice(1, leftSize + 1), inorder.slice(0, leftSize));
    const right = buildTree(preorder.slice(leftSize + 1), inorder.slice(leftSize + 1));
    return new TreeNode(preorder[0], left, right);
};
```

```js

// nums = [7, 1, 5, 3, 6, 4];
// ç¬¬iå¤©äº¤æ˜“å®Œæˆæ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„åˆ©æ¶¦ï¼š dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] + nums[i])
// ç¬¬iå¤©äº¤æ˜“å®Œæˆæ‰‹é‡Œæœ‰è‚¡ç¥¨çš„åˆ©æ¶¦ï¼š dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] - nums[i])
function time(nums) {
    const n = nums.length;
    const dp = Array.from(new Array(n), () => new Array(2).fill(0));
    dp[0][1] = -nums[0];

    for(let i = 1; i < n; i++) {
        dp[i][0] =  Math.max(dp[i - 1][0], dp[i - 1][1] + nums[i]);
        dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] - nums[i])
    }

    return dp[n - 1][0];
}

```

## 13.æ‹¬å·åŒ¹é…
```js
// 1.è¾“å…¥ '([{}])' è¾“å‡º true
function match(s) {
    const map = {'(': ')', '[': ']', '{': '}'};
    const stack = [];
    for(let i = 0; i < s.length; i++) {
        if(map[s[i]] != undefined) {
            stack.push(s[i])
        } else {
            const temp = stack.pop();
            if(map[temp] != s[i]) {
                return false;
            }
        }
    }
    return stack.length == 0;
}
console.log(match('([{]})'))


// 2.è¾“å…¥n = 3 è¾“å‡º ['((()))','(()())','(())()','()(()),()()()']

function gen(n){
    const res = [];
    const dfs = (l, r, str) => {
        if(str.length == n * 2) {
            res.push(str);
            return;
        }
        if(l > 0) {
            dfs(l - 1, r, str + '(')
        }
        if(r > l) {
            dfs(l, r - 1, str + ')')
        }
    };
    dfs(n, n, '');
    return res;
}

console.log(gen(3))
```
## 14.ç»™æ­£æ•°n,æ±‚1 - nå’Œä¸ºmçš„æ‰€æœ‰ç»„åˆ
```js

// è¾“å…¥ï¼šcandidates = 7, target = 8
// è¾“å‡ºï¼š[[1,2,5],[1,3,4],[1,7],[2,6],[3,5]]
function findCombine(n, m) {
    const res = [];
    const dfs = (start, sum, arr) => {
        if(sum >= m) {
            if(sum == m) {
                res.push(arr.slice());
            }
            return;
        }

        for(let i = start; i <= n; i++) {
            arr.push(i);
            dfs(i + 1, sum + i, arr);
            arr.pop();
        }
    };

    dfs(1, 0, []);

    return res;
}
console.log(findCombine(7, 8))

// è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
// è¾“å‡ºï¼š[[2,2,3],[7]]

var combinationSum = function(candidates, target) {
    const res = [];

    const dfs = (start, arr, sum) => {
        if(sum >= target) {
            if(sum == target) {
                res.push(arr.slice());
            }
            return;
        }
        const curArr = arr.slice();
        for(let i = start; i < candidates.length; i++) {
            curArr.push(candidates[i]);
            dfs(i, curArr, sum + candidates[i]);
            curArr.pop();
        }
    }

    dfs(0, [], 0);
    return res;
};

console.log(combinationSum([2,3,5], 8))

// è¾“å…¥ï¼šn = 4, k = 2
// è¾“å‡ºï¼š
// [
//   [2,4],
//   [3,4],
//   [2,3],
//   [1,2],
//   [1,3],
//   [1,4],
// ]

var combine = function(n, k) {
    const res = [];
    const arr = [];
    const dfs = (start) => {
        if(arr.length == k) {
            res.push(arr.slice())
            return;
        }
        for(let i = start; i <= n; i++) {
            arr.push(i);
            dfs(i + 1);
            arr.pop();
        }
   } 

   dfs(1);

   return res;
};

console.log(combine(4, 2))
```
## 15.å‡½æ•°æŸ¯é‡ŒåŒ–
> "å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šæŒ‡å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶åŸå§‹å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªèƒ½å¤Ÿæ¥æ”¶å¹¶å¤„ç†å‰©ä½™å‚æ•°çš„å‡½æ•°"
```js
function curry(fn) {
    return function curried(...args) {
        if(args.length < fn.length) {
            return function(...nextArgs) {
                return curried.apply(this, args.concat(nextArgs));
            }
        }
        return fn.apply(this, args);
    }
}

function curry(fn) {
    return function curried(..args) {
        if(args.length < fn.length) {
            return function (...newArgs) {
                return curried.apply(this, args.concat(newArgs));
            }
        }
        return fn.apply(this, args);
    }
}

```
## 16.promiseå¹¶å‘é™åˆ¶
```js
class LimitPromise {
    constructor(max) {
        this.max = max;
        this.queue = [];
        this.currentRunCount = 0;
        this.result = [];
        this.allTaskLen = taskList.length;
    }

    runTask({promise, index}) {
        return new Prmoise((resolve, reject) => {
            this.currentRunCount++;
            Promise.resolve(promise)
            .then((res) => {
                // resolve(res)
                result[index] = res;
            })
            .catch((err) => {
                // reject(err)
                result[index] = err;
            })
            .finally(() => {
                this.currentRunCount--;
                if(this.result.length == this.allTaskLen) {
                    
                }
                this.next();
            })
        })
    }

    push(promise, index) {
        if(this.currentRunCount < this.max) {
            this.runTask({promise, index});
        } else {
            this.queue.push({promise, index});
        }
    }

    next() {
        if(this.queue.length) {
            const {promise, index} = this.queue.shift();
            this.runTask({promise, index});
        }
    }

    runAllTask(taskList) {
        for(let i = 0; i < list.length; i++) {
            this.push({list[i], i});
        }
    }
}
const limitPromise = new LimitPromise(3);
Promise.all(tasks.map(task => limitPromise.push(task)));
```
## 17.æœ€å¤§å­æ•°ç»„å’Œ
```js
// è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]
// è¾“å‡ºï¼š6
var maxSubArray = function(nums) {
    let pre = nums[0];
    let max = nums[0];
    for(let i = 1; i < nums.length; i++) {
        // if(pre + nums[i] > nums[i]) {
        //     pre = pre + nums[i]
        // } else {
        //     pre = nums[i];
        // }
        pre = Math.max(pre + nums[i], nums[i]);
        max = Math.max(pre, max);
    }
    return max;
};
console.log(maxSubArray([-2,1,-3,4,-1,2,1,-5,4]))
```

## 18.cloneDeep
```js
function cloneDeep(target) {

    function isObject(obj) {
        return (obj && typeof obj == 'object') || typeof obj == 'function';
    }
    let map = new WeakMap();
    function clone(data) {
        // éå¯¹è±¡
        if(!isObject(data)) {
            return data;
        }

        // å‡½æ•°
        if(typeof data == 'function') {
            return new Function( `return ${data.toString()}`)();
        }

        // dateã€regExp
        if([Date, RegExp].includes(data.constructor)){
            return data.constructor(data)
        }  
        
        // å¾ªç¯å¼•ç”¨
        if(map.has(data)) {
            return map.get(data);
        }
        
        // å¤„ç†map
        if(data instanceof Map) {
            const result = new Map();
            map.set(data ,result);
            data.forEach((val, key) => {
                if(isObject(val)) {
                    result.set(key, clone(val))
                } else {
                    result.set(key, val)
                }
            })
            return result;
        }

        // å¤„ç†set
        if(data instanceof Set) {
            const result = new Set();
            map.set(data, result);
            data.forEach(val => {
                if(isObject(val)) {
                    result.add(clone(val))
                } else {
                    result.add(val)
                }
            })
            return result;
        }

        //æ™®é€šå¯¹è±¡
        const keys = Reflect.ownKeys(data);
        const allDesc = Object.getOwnPropertyDescriptors(data);
        const result = Object.create(Object.getPrototypeOf(data), allDesc) 
        map.set(data, result);

        keys.forEach(key => {
            const val = data[key];
            if(isObject(val)) {
                result[key] = clone(val)
            } else {
                result[key] = val
            }
        })

        return result;
    }

    return clone(target);
}
```

## 19.call/apply/bind
```js
function myCall(context, ...args){
    context = context || window;
    const fn = Symbol();
    context[fn] = this;
    const result = context[fn](...args);
    delete context[fn];
    return result;
}

function myApply(context, args) {
    context = context || window;
    const fn = Symbol();
    context[fn] = this;
    const res = context[fn](...args);
    delete context[fn];
    return res;
}

function myBind(context, args) {
    context = context || window;
    const fn = this;
    const f = Symbol();
    const res = function(...args1) {
        if(this instanceof fn) {
            this[f] = fn;
            this[f](...args1, ...args);
            delete this[f];
        } else {
            context[f] = fn;
            context[f](...args1, ...args);
            delete context[f];
        }
    }
    res.prototype = Object.create(fn.prototype);
    return res;
}
```

## 20. new instanceof
```js
function myNew() {
    let obj = null, res = null;
    const constructor = Array.prototype.shift.call(arguments);

    obj = Objec.create(constructor.prototype);
    res = constructor.apply(obj, arguments);
    let flag = res && (typeof res == 'object' || typeof res == 'function');

    return flag ? res : obj;
}

function myInstanceof(left, right) {
    let proto = Object.getPrototypeOf(left);
    const prototype = right.prototype;
    while(true) {
        if(!proto) return false;
        if(proto == prototype) return ture;
        proto = Object.getPrototypeOf(proto);
    }
}
```

## 21. promise
```js
class Mypromise {
    constructor(fn) {
        this.state = 'pending';
        this.value = null;
        this.error = null;
        this.onFulfilledCallback = [];
        this.onRejectedCallback = [];

        const resolve = (value) => {
            if(this.state == 'pending') {
                this.state == 'fulfilled';
                this.value = value;
                this.onFulfilledCallback.forEach(callback => callback(this.value))
            }
        } 

        const reject = (error) => {
            if(this.state == 'pending') {
                this.state == 'rejected';
                this.error = error;
                this.onRejectedCallback.forEach(callback => callback(this.error))
            }
        } 

        try {
            fn(resolve, reject)
        } catch (err) {
            reject(err);
        }
    }

    then(onFulfilled, onRejected) {
        onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : value => value;
        onRejected = typeof onRejected === 'function' ? onRejected : reason => { throw reason };

        return new MyPromise((resolve, reject) => {

        });
    }

    catch(){

    }

    finally() {

    }
}
```

## 22. æ‰å¹³åŒ–

```js
const NestedIterator = function(nestedList) {
    this.stack = nestedList;
};
NestedIterator.prototype.hasNext = function() {
    while(this.stack.length) {
        const nest = this.stack[0];
        if(nest.isInteger) {
            return true;
        } else {
            const cur = this.stack[0].getList();
            this.stack.shift();
            this.stack.unshift(...cur);
        }
    }
    return false;
}

NestedIterator.prototype.next = function() {
    return this.stack.shift().getInteger();
}
// æ–¹æ³•1--æ ˆ
function flat(arr) {
    const res = [];
    const stack = [...arr];

    while(stack.length) {
        const val = stack.pop();
        if(Array.isArray(val)) {
            stack.push(...val);
        } else {
            res.unshift(val)
        }
    }
    return res;
}

// æ–¹æ³•2--reduce
function flat(arr) {
    return arr.reduce((pre, cur) => {
        return pre.concat(Array.isArray(cur) ? flat(cur) : cur)
    }, [])
}

function flat(arr, num = 1) {
    return num > 0 ? arr.reduce((pre, cur) => {
        return pre.concat(Array.isArray(cur) ? flat(cur, num - 1) : cur)
    }, []) : arr.slice();
}
```

## 23 é€’å¢ä¸‰å…ƒå­åºåˆ—

```js
var increasingTriplet = function(nums) {
    const len = nums.length;
    if(len < 3) return false;
    // iå·¦ä¾§æ˜¯å¦å­˜åœ¨æ¯”nums[i]å°çš„å€¼
    const left = new Array(len).fill(false);
    // iå³ä¾§æ˜¯å¦å­˜åœ¨æ¯”nums[i]å¤§çš„å€¼
    const right = new Array(len).fill(false);
    let stack = [];
    for(let i = 0; i < len; i++) {
        while(stack.length && stack[stack.length - 1] > nums[i]) {
            stack.pop();
        }
        if(stack.length) {
            left[i] = true;
        }
        stack.push(nums[i])
    }
    stack = [];
    for(let i = len; i >= 0; i--) {
        while(stack.length && stack[stack.length - 1] < nums[i]) {
            stack.pop();
        }
        if(stack.length) {
            right[i] = true;
        }
        stack.push(nums[i])
    }

    for(let i = 0; i < len; i++) {
        if(left[i] && right[i]) {
            return true;
        }
    }
    return false;
};


var increasingTriplet = function(nums) {
    const longest = [], count;
    const len = nums.length;
    if(len < 3) return false;

    for(let i = 0; i < len; i++) {
        count = 1;
        for(let j = 0; j < len; j++) {
            if(nums[i] < nums[j] && count < longest[j]){
                count = longest[j] + 1;
            }
        }
        longest.push(count);
        if(count >= 3) {
            return true;
        }
    }
    return false;
};

var increasingTriplet = function(nums) {
    const len = nums.length;
    if(len < 3) return false;
    let first = nums[0], second = Number.MAX_VALUE;
    for(let i = 0; i < len; i++) {
        const num = nums[i];
        if(num > second) {
            return true;
        } else if(num > first) {
            second = num;
        } else {
            first = num;
        }
    }
    return false;
};
console.log(increasingTriplet([1,2,3,4,5]))
// è¾“å…¥ï¼šnums = [1,2,3,4,5]
// è¾“å‡ºï¼štrue
```

## 24.æœ€é•¿é€’å¢å­åºåˆ—
```js
var lengthOfLIS = function(nums) {
    // dp[i]ä»¥iç»“æŸçš„é€’å¢å­åºåˆ—é•¿åº¦
    const len = nums.length;
    const dp = new Array(len).fill(1);
    for(let i = 0; i < len; i++) {
        for(let j = 0; j < i; j++) {
            if(nums[i] > nums[j]) {
                dp[i] = Math.max(dp[i], dp[j] + 1);
            }
        }
    }
    return Math.max(...dp);
};

console.log(lengthOfLIS([10,9,2,5,3,7,101,18]))
```

```js
// ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ nums ï¼Œå…¶æ•°å­—éƒ½åœ¨ [1, n] èŒƒå›´å†…ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚

// å‡è®¾ nums åªæœ‰ ä¸€ä¸ªé‡å¤çš„æ•´æ•° ï¼Œè¿”å› è¿™ä¸ªé‡å¤çš„æ•° ã€‚

// ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡» ä¸ä¿®æ”¹ æ•°ç»„ nums ä¸”åªç”¨å¸¸é‡çº§ O(1) çš„é¢å¤–ç©ºé—´ã€‚
var findDuplicate = function(nums) {
    // const len = nums.length;
    // let sum = 0;
    // let baseSum = 0;
    // for(let i = 1; i < len; i++) {
    //     baseSum += i;
    // }
    // for(let i = 0; i < len; i++) {
    //     sum += nums[i];
    // }

    // return sum - baseSum;

    // äºŒåˆ†æ³•
    let l = 1, r = nums.length - 1;
    while(l < r) {
        let m = Math.floor((l + r) / 2);
        let count = 0;
        for(let i = 0; i < nums.length; i++) {
            if(nums[i] <= m) {
                count++;
            }
        }
        if(count > m) {
            r = m;
        } else {
            l = m + 1;
        }
    }
    return l;
};
console.log(findDuplicate([1,3,4,2,2]))


è¾“å…¥ï¼šnums = [1,3,4,2,2]
è¾“å‡ºï¼š2
```

## 25. æ™ºåŠ›é¢˜
> å²›ä¸Šæœ‰10åªé»‘è‰²çš„å˜è‰²é¾™ï¼Œ14åªç™½è‰²çš„å˜è‰²é¾™ï¼Œ15åªç°è‰²çš„å˜è‰²é¾™ï¼Œä¸¤åªä¸åŒé¢œè‰²çš„ç›¸é‡å°±ä¼šå˜æˆç¬¬ä¸‰ç§é¢œè‰²ï¼Œè¯·é—®å²›ä¸Šå˜è‰²é¾™æœ‰æ²¡æœ‰å¯èƒ½å˜æˆåŒä¸€ç§é¢œè‰²ï¼›
10ã€14ã€15
æœ‰
```js
function mergeColor(list) {
    let res = false;
    const dfs = (arr) => {
        const sum = arr.reduce((pre, cur) => pre + cur, 0);
        if(sum <= 1) {
            if(sum == 1) {
                res = true;
                console.log(arr.slice(), 'arr')
            }
            return;
        }
        const [a, b, c] = arr.sort();
        dfs([a+1, b - 1, c- 1]);
    };
    dfs(list)
    return res;
}

console.log(mergeColor([10,14, 15])) // true
```

## 26.ç¿»è½¬é“¾è¡¨

```js
function reverseList(head) {

    let pre = null;
    let cur = head;
    let next = head.next;
    while(cur) {
        cur.next = pre;
        pre = cur;
        cur = next;
        next = cur.next
    }
    return pre;
}

```

## 27.å²›å±¿æ•°é‡ 200
ç»™ä½ ä¸€ä¸ªç”± '1'ï¼ˆé™†åœ°ï¼‰å’Œ '0'ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šgrid = [
  ["1","1","1","1","0"],
  ["1","1","0","1","0"],
  ["1","1","0","0","0"],
  ["0","0","0","0","0"]
]
è¾“å‡ºï¼š1
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šgrid = [
  ["1","1","0","0","0"],
  ["1","1","0","0","0"],
  ["0","0","1","0","0"],
  ["0","0","0","1","1"]
]
è¾“å‡ºï¼š3
 

æç¤ºï¼š

m == grid.length
n == grid[i].length
1 <= m, n <= 300
grid[i][j] çš„å€¼ä¸º '0' æˆ– '1'

```js

function numIslands(grid) {
    const m = grid.length;
    const n = grid[0].length;
    let res = 0;

    const dfs = (i, j) => {
        if(i < 0 || j < 0 || i >= m || j >= n || grid[i][j] == 0) {
            return;
        }
        grid[i][j] = 0;
        dfs(i - 1, j);
        dfs(i + 1, j);
        dfs(i, j - 1);
        dfs(i, j + 1);
    }

    for(let i = 0; i < m; i++) {
        for(let j = 0; j < n; j++) {
            if(grid[i][j] == 1) {
                res++;
                dfs(i, j);
            }
        }
    }

    return res;  
}

console.log(numIslands([
  ["1","1","0","0","0"],
  ["1","1","0","0","0"],
  ["0","0","1","0","0"],
  ["0","0","0","1","1"]
]))

```
## 28. å®ç°æ’åº

## 29 lc394:å­—ç¬¦ä¸²è§£ç 
è¾“å…¥ï¼šs = "3[a]2[bc]"
è¾“å‡ºï¼š"aaabcbc"

```js
    var decodeString = function(s) {
        let numStack = [];
        let strStack = [];
        let num = 0;
        let result = '';

        for(let i = 0; i < s.length; i++) {
            if(!isNaN(s[i])) {
                num = num * 10 + Number(s[i])
            } else if(s[i] == '[') {
                strStack.push(result);
                result = ''
                numStack.push(num);
                num = 0;
            } else if (s[i] == ']') {
                const repeatNum = numStack.pop();
                result = strStack.pop() + result.repeat(repeatNum);

            } else {
                result += s[i]
            }
        }
        return result;

    };
    console.log(decodeString("abc3[cd]xyz"))
```

## 30.ä¸¤ä¸ªæœ‰åºæ•°ç»„æ’åº
```js
function sortTwoArray(nums1, nums2) {
    let res = [];
    let l1 = 0, l2 = 0;
    while(l1 < nums1.length && l2 < nums2.length) {
        if(nums1[l1] < nums2[l2]) {
            res.push(nums1[l1]);
            l1++
        } else {
            res.push(nums2[l2]);
            l2++
        }
    }

    l1 == nums1.length ? res.concat(nums2.slice(l2)) : res.concat(nums1.slice(l1));

    return res;
}

console.log(sortTwoArray([1, 2, 4, 6, 7, 9], [3, 5, 6, 7, 7, 8, 9, 9]))
```

## 31.ç»™ä¸€ä¸ªDOMç»“æ„çš„å­—ç¬¦ä¸²ï¼Œå¦‚ä½•è®¡ç®—æ¯ä¸ªæ ‡ç­¾çš„æ•°é‡

## 32.
ç»™å®šä¸€ä¸ªæ•´å‹äºŒç»´æ•°ç»„ (æ¯ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦å¤§äº0ä½†ä¸å›ºå®š)ï¼Œæ¯ä¸€è¡Œä»å·¦åˆ°å³é€’å¢ï¼Œæ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚
è¦æ±‚:å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶è¿™æ ·çš„äºŒç»´æ•°ç»„array å’Œä¸€ä¸ªæ•´æ•°Xï¼Œè¿”å›è¯¥æ•´æ•°åœ¨äºŒç»´æ•°ç»„ä¸­çš„ä¸‹æ ‡(ç”¨æ•°ç»„è¡¨ç¤ºï¼Œä¾‹å¦‚`[12]`) ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›`[-1,-1]`
-ç¤ºä¾‹: ç»™å®š array=[1,3,5,6],[7,8,9],[10,14]è‹¥ X=9 åˆ™è¿”å›[1,2]; è‹¥ X=11 åˆ™è¿”å›[-1,-1]


## 33.3. ä¸€ä¸ªå¼‚æ­¥è°ƒåº¦å™¨

```js
class AsyncScheduler {
    constructor(max) {
        this.max = max;
        this.queue = [];
        this.currentCount = 0;
    } 

    add(task) {
        return new Promise((resolve, reject) => {
            this.queue.push({task, resolve, reject});
            this.next();
        })
    }

    next() {
        if(this.currentCount < this.max && this.queue.length > 0) {
            const {task, resolve, reject} = this.queue.shift();
            this.currentCount++;
            task().then(resolve, reject).finally(( ) => {
                this.currentCount--;
                this.next();
            })
        }
    }

}
```
## 34. é€’å½’åˆ¤æ–­å›æ–‡å­—ç¬¦ä¸²

```js

```

## 35. æ‰‹å†™ Promise.race
```js
function myPromiserace(promiseArr) {
    if(!Array.isArray(promiseArr)) {
        return new TypeError(`expected an array,but get ${typeof promiseArr}`)
    }
    return new Promise((resolve, reject) => {
        for(let i = 0; i < promiseArr.length; i++) {
            Promise.resolve(promiseArr[i]).then(resolve, reject)
        }
    })
}
```
## 36. å®ç°ä¸€ä¸ª useOnce hookï¼š

```js
const fn = () => console.log(1)
const newFn = useOnce(fn)

const clickHandler = () => {
    newFn() // åªè§¦å‘ä¸€æ¬¡
}

function useOnce(fn) {
    let hasRun = false;

    return function (...args) {
        if(!hasRun) {
            hasRun = true;
            return fn.apply(this, args);
        }
    }
}
```

## 37 æ‰‹å†™sqrtç®—æ³•
ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° x ï¼Œè®¡ç®—å¹¶è¿”å› x çš„ ç®—æœ¯å¹³æ–¹æ ¹ ã€‚
ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ æ•´æ•°éƒ¨åˆ† ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« èˆå» ã€‚
æ³¨æ„ï¼šä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚ pow(x, 0.5) æˆ–è€… x ** 0.5 ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šx = 4
è¾“å‡ºï¼š2

```js
function mySqrt(n) {
    if(n < 2) {
        return n;
    }

    let l = 1, m, r = n;

    while(l <= r) {
        m = Math.floor((l + r) / 2);
        m = l + ((r - l) >> 1);
        const value = m * m;
        if(value == n) {
            return m
        } else if (value < n) {
            l = m + 1
        } else {
            r = m - 1
        }
    }
}
```

## 38 æ‰‹å†™CSSæ‰‡å½¢ï¼Œé¢œè‰²æ˜¯ç™½è‰²ï¼Œåº•è‰²ä¸ºé»‘
```css
/* <div class="box">
    <div class="shanxing"></div>
</div> */
.box {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 200px;
    height: 200px;
    overflow: hidden;
    background-color: #000;
}

.shanxing {
    position: absolute;
    top: 50px;
    left: 0;
    width: 0;
    height: 0;
    border: 100px solid;
    border-color: #fff transparent transparent transparent;
    border-radius: 100px;
    transform: rotate(0deg);
}~
```
## 39 ç®—æ³•:01èƒŒåŒ…


## 40 ç®—æ³•:èºæ—‹æ•°ç»„
è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]

```js
function spiralOrder (matrix) {
    const res = [];
    const m = matrix.length, n = matrix[0].length;

    let top = 0, bottom = m - 1, left = 0, right = n - 1;

    while(top <= bottom && left <= right) {
        // å…ˆtop
        for(let i = left; i <= right; i++) {
            res.push(matrix[top][i])
        }
        top++;
        // å³
        for(let i = top; i <= bottom; i++) {
            res.push(matrix[i][right]);
        }
        right--;
        //bottom
        if(top <= bottom) {
            for(let i = right; i >= left; i--) {
                res.push(matrix[bottom][i])
            }
        }
        bottom--;
        //left
        if(left <= right) {
            for(let i = bottom; i >=top; i--) {
                res.push(matrix[i][left])
            }
        }
        left++
    }

    return res;
}

console.log(spiralOrder([[1,2,3,4],[5,6,7,8],[9,10,11,12]]))
```


## 41 Z å­—å½¢å˜æ¢
å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸² s æ ¹æ®ç»™å®šçš„è¡Œæ•° numRows ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚
æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º "PAYPALISHIRING" è¡Œæ•°ä¸º 3 æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š

P   A   H   N
A P L S I I G
Y   I   R
ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š"PAHNAPLSIIGYIR"ã€‚

è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š

string convert(string s, int numRows);

```js
function convert(s, numRows) {
    const n = s.length ,r = numRows;
    if(r == 1 || n <= r) {
        return s;
    }
    // ä¸€ä¸ªå‘¨æœŸçš„é•¿åº¦
    const t = r + r - 2;

    const arr = Array.from(new Array(r), () => new Array(Math.ceil(n / t) * (r - 1)).fill(0));

    let row = 0, col = 0;
    for(let i = 0; i < n; i++) {
        arr[row][col] = s[i];
        if((i % t) < r - 1) {
            row++
        } else {
            row--;
            col++;
        }
    }
    let res = '';
    for(let i = 0; i < r; i++) {
        for(let j = 0; j < arr[0].length; j++) {
            if(arr[i][j] != 0) {
                res += arr[i][j]
            }
        }
    }
    return res;
}

console.log(convert("PAYPALISHIRING", 3))
```

## 42 ç®—æ³•ï¼šæ ‘çš„éå†æœ‰å‡ ç§æ–¹å¼ï¼Œå®ç°ä¸‹å±‚æ¬¡éå†

```js
// æ·±åº¦ä¼˜å…ˆã€å¹¿åº¦ä¼˜å…ˆéå†



```

## 43 ç®—æ³•ï¼šåˆ¤æ–­å¯¹ç§°äºŒå‰æ ‘

```js
function isSymmetric(root) {
    function isSameTree(p, q) {
        if(p == null || q == null) {
            return p == q
        }

        return p.val == q.val && isSameTree(p.left, q.right) && isSameTree(p.right, q.left);
    }
    return isSameTree(root.left, root.right);
}
```

## 44ç®—æ³•é¢˜ï¼š
> è€å¸ˆåˆ†é¥¼å¹²ï¼Œæ¯ä¸ªå­©å­åªèƒ½å¾—åˆ°ä¸€å—é¥¼å¹²ï¼Œä½†æ¯ä¸ªå­©å­æƒ³è¦çš„é¥¼å¹²å¤§å°ä¸å°½ç›¸åŒã€‚ç›®æ ‡æ˜¯å°½é‡è®©æ›´å¤šçš„å­©å­æ»¡æ„ã€‚å¦‚å­©å­çš„è¦æ±‚æ˜¯ 1, 3, 5, 4, 2ï¼Œé¥¼å¹²æ˜¯1, 1ï¼Œæœ€å¤šèƒ½è®©1ä¸ªå­©å­æ»¡è¶³ã€‚å¦‚å­©å­çš„è¦æ±‚æ˜¯ 10, 9, 8, 7, 6ï¼Œé¥¼å¹²æ˜¯7, 6, 5ï¼Œæœ€å¤šèƒ½è®©2ä¸ªå­©å­æ»¡è¶³ã€‚

```js
function findContentChildren(children, cookies) {
    // å°†å­©å­çš„éœ€æ±‚å’Œé¥¼å¹²å¤§å°è¿›è¡Œæ’åº
    children.sort((a, b) => a - b);
    cookies.sort((a, b) => a - b);

    let childPointer = 0; // å­©å­æŒ‡é’ˆ
    let cookiePointer = 0; // é¥¼å¹²æŒ‡é’ˆ
    let satisfiedChildren = 0; // æ»¡è¶³çš„å­©å­æ•°

    while (childPointer < children.length && cookiePointer < cookies.length) {
        if (cookies[cookiePointer] >= children[childPointer]) {
            // å½“å‰é¥¼å¹²å¯ä»¥æ»¡è¶³å½“å‰å­©å­
            satisfiedChildren++;
            childPointer++; // æ»¡è¶³åï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­©å­
        }
        cookiePointer++; // æ— è®ºæ˜¯å¦æ»¡è¶³ï¼Œé¥¼å¹²æŒ‡é’ˆéƒ½è¦ç§»åŠ¨
    }

    return satisfiedChildren;
}
```
## 45 ç®—æ³•é¢˜ï¼šä¸¤ä¸ªæœ‰åºé“¾è¡¨å’Œå¹¶æˆä¸€ä¸ªæœ‰åºé“¾è¡¨

```js
var mergeTwoLists = function(list1, list2) {
    const prehead = new ListNode(-1);
    let prev = prehead;

    while(list1 != null && list2 != null) {
        if(list1.val <= list2.val) {
            prev.next = list1;
            list1 = list1.next;
        } else {
            prev.next = list2;
            list2 = list2.next;
        }
        prev = prev.next;
    }

    prev.next = list1 == null ? list2 : list1;

    return prehead.next;
}
```


## 46 ç®—æ³•: ç‰ˆæœ¬å·æ’åº
æ ·ä¾‹è¾“å…¥ï¼šversions = ['0.1.1', '2.3.3', '0.302.1', '4.2', '4.3.5', '4.3.4.5']
è¾“å‡ºï¼š['0.1.1', '0.302.1', '2.3.3', '4.3.4.5', '4.3.5']

```js
function versionSort(arr) {
    return arr.sort((a, b) => {
        const tempA = a.split('.');
        const tempB = b.split('.');
        const maxLen = Math.max(tempA.length, tempB.length);
        for(let i = 0; i < maxLen; i++) {
            const curA = tempA[i] || 0;
            const curB = tempB[i] || 0;
            if(curA > curB) {
                return 1;
            } else if(curA < curB) {
                return -1;
            }
        }
        return 0;
    });
}

console.log(versionSort(['0.1.1', '2.3.3', '0.302.1', '4.2', '4.3.5', '4.3.4.5']))
```

## 47 æ•°ç»„å»é‡
```  
[{a:1, b:2},{a:1},{a:1}, {a:1, b:{c:1}}, {b:{c:1}, a:1}]
  => [{a:1, b:2}, {a:1}, {a:1, b:{c:1}}]
```

```js
function removeRepate(arr) {
    const set = new Set();
    const res = [];

    for(let i = 0; i < arr.length; i++) {
        const sortItem = removeRepateObj(arr[i]);
        const curItem = JSON.stringify(sortItem);
        if(!set.has(curItem)) {
            set.add(curItem);
            res.push(sortItem)
        }
    }
    return res;
}

function removeRepateObj(obj) {

    if(typeof obj !== 'object') {
        return obj
    }

    return Object.keys(obj).sort().reduce((sortObj, cur) => {
        sortObj[cur] = removeRepateObj(obj[cur]);

        return sortObj;
    }, {})
}

console.log(removeRepate([{a:1, b:2},{a:1},{a:1}, {a:1, b:{c:1}}, {b:{c:1}, a:1}]))
```

## 48 ç®—æ³•
> æä¾›äº†ä¸€ä¸ªRedPackageçš„ç±»ï¼Œåˆå§‹åŒ–æ—¶ä¼ å…¥çº¢åŒ…é‡‘é¢å’Œä¸ªæ•°ï¼Œéœ€è¦å®ç°ä¸€ä¸ªopenRedPackageæ–¹æ³•ï¼Œæ¯è°ƒä¸€æ¬¡éƒ½è¿›è¡Œä¸€æ¬¡â€œæŠ¢çº¢åŒ…â€ï¼Œå¹¶ä»¥console.logçš„å½¢å¼è¾“å‡ºæŠ¢åˆ°çš„çº¢åŒ…é‡‘é¢ã€‚
```js
class RedPackage {
    constructor(money, num) {
        this.totalAmount = money;
        this.totalCount = num;
        this.remainingAmount = money;
        this.remainingCount = num;
    }

    openRedPackage() {
        if(this.remainingCount == 0) {
            console.log('çº¢åŒ…å·²ç»æŠ¢å®Œäº†');
            return;
        }

        let amount;
        const MIN_AMOUNT = 0.01;

        if(this.remainingCount == 1) {
            amount = this.remainingAmount;
        } else {
            amount = +((Math.random() * this.remainingAmount - (this.remainingCount * MIN_AMOUNT)).toFixed(2));
            amount = Math.max(MIN_AMOUNT, amount);
        }

        this.remainingAmount -= amount;
        this.remainingCount--;

        console.log(`æŠ¢åˆ°çº¢åŒ…jine: ${amount.toFixed(2)}, å‰©ä½™${this.remainingAmount}`);
    }
}
const redPackage = new RedPackage(100, 10);
for (let i = 0; i <= 10; i++) {
    redPackage.openRedPackage(); // æ¯æ¬¡è°ƒç”¨æ¨¡æ‹Ÿä¸€æ¬¡æŠ¢çº¢åŒ…
}
```